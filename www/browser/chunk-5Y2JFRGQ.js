import"./chunk-SSW7SZ5O.js";import{a as W,b as A}from"./chunk-X4O2IR5J.js";import{c as N,d as v,f as p,g as b}from"./chunk-637CQDAJ.js";import{$a as L,A as M,Aa as H,B as h,C as _,E as d,G as P,Ga as j,H as S,I as w,J as I,P as O,Pa as B,Q as T,S as k,Xa as D,Z as z,fb as V,g as x,h as C,n as a,p as f,q as y,r as u,t as s,v as r,w as c,x as g,ya as E,za as F}from"./chunk-HCWSO466.js";import"./chunk-AQJKJO6F.js";import"./chunk-VORI6RXH.js";import"./chunk-T2ZGFQGW.js";import"./chunk-IP3IRUG3.js";import"./chunk-VYB3L4JF.js";import"./chunk-HC6MZPB3.js";import"./chunk-5LMKNUS2.js";import"./chunk-RMJ7PCZJ.js";import"./chunk-5S2DIWXE.js";import"./chunk-LEIMCQKJ.js";import"./chunk-NHXHI6VP.js";import"./chunk-EKM5P5PM.js";import"./chunk-GNOVVPTF.js";import"./chunk-5OMUW5VI.js";import"./chunk-OBXDPQ3V.js";import"./chunk-4KO2SR2V.js";import"./chunk-MCRJI3T3.js";import"./chunk-BAKMWPBW.js";import"./chunk-45D6LERB.js";import"./chunk-JUNFP4SE.js";import"./chunk-5J5TQ4C2.js";import"./chunk-RMCYG6SW.js";import"./chunk-LYYJ2XOB.js";import"./chunk-3IVKBF6N.js";import"./chunk-JWIEPCRG.js";import"./chunk-C5RQ2IC2.js";import"./chunk-SV7S5NYR.js";import"./chunk-RW4GY4BD.js";function G(e,o){e&1&&g(0,"ion-loading",8)}function R(e,o){e&1&&(r(0,"div",9)(1,"div",10),d(2,"\u{1F614}"),c(),r(3,"div",11),d(4,"No se encontraron canciones"),c()())}function U(e,o){if(e&1){let l=M();r(0,"div",13)(1,"div",14),h("click",function(){let n=x(l).$implicit,t=_(2);return C(t.openSongPage(n.id))}),r(2,"span",15),g(3,"b",16),d(4),c()()()}if(e&2){let l=o.$implicit;s("@fadeIn",void 0),a(4),P(" ",l.nombre," ")}}function X(e,o){if(e&1&&(r(0,"div"),u(1,U,5,2,"div",12),c()),e&2){let l=_();a(),s("ngForOf",l.filteredSongs)}}var re=(()=>{let o=class o{constructor(i,n){this.apiService=i,this.router=n,this.songs=[],this.filteredSongs=[],this.searchTerm="",this.loading=!0}ngOnInit(){this.apiService.getCanciones().subscribe({next:i=>{this.songs=i.sort((n,t)=>n.nombre.localeCompare(t.nombre)),this.filteredSongs=this.songs,this.loading=!1},error:i=>{console.error("Error cargando canciones:",i),this.loading=!1}})}filterSongs(){this.filteredSongs=this.searchTerm?this.songs.filter(i=>i.nombre.toLowerCase().includes(this.searchTerm.toLowerCase())):this.songs}openSongPage(i){let n=document.querySelector("ion-content");n&&n.scrollToTop(300),setTimeout(()=>{this.router.navigate(["/cancion",i])},200)}};o.\u0275fac=function(n){return new(n||o)(f(A),f(z))},o.\u0275cmp=y({type:o,selectors:[["app-home"]],decls:8,vars:6,consts:[[3,"title","showBack"],[1,"background-content"],[1,"overlay"],[1,"content-wrapper"],["placeholder","Buscar canci\xF3n","showClearButton","always",3,"ngModelChange","ionInput","ngModel"],["message","Cargando canciones...","spinner","circles",4,"ngIf"],["class","no-results",4,"ngIf"],[4,"ngIf"],["message","Cargando canciones...","spinner","circles"],[1,"no-results"],[1,"emoji"],[1,"message"],["class","song-list",4,"ngFor","ngForOf"],[1,"song-list"],[1,"song-item",3,"click"],[1,"song-label"],[1,"fas","fa-music","icon-musical-note"]],template:function(n,t){n&1&&(g(0,"app-navbar",0),r(1,"ion-content",1),g(2,"div",2),r(3,"div",3)(4,"ion-searchbar",4),I("ngModelChange",function(m){return w(t.searchTerm,m)||(t.searchTerm=m),m}),h("ionInput",function(){return t.filterSongs()}),c(),u(5,G,1,0,"ion-loading",5)(6,R,5,0,"div",6)(7,X,2,1,"div",7),c()()),n&2&&(s("title","Canciones")("showBack",!1),a(4),S("ngModel",t.searchTerm),a(),s("ngIf",t.loading),a(),s("ngIf",!t.loading&&t.filteredSongs.length===0),a(),s("ngIf",!t.loading&&t.filteredSongs.length>0))},dependencies:[V,B,D,L,j,k,O,T,H,E,F,W],styles:['@charset "UTF-8";body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{margin:0;padding:0;width:100%;height:100%;overflow:hidden}ion-content.background-content[_ngcontent-%COMP%]{--background: none;position:relative;display:flex;flex-direction:column}.overlay[_ngcontent-%COMP%]{background:url("./media/fondo_coro-LGX3ZSC7.png") no-repeat top center/cover;position:fixed;top:0;left:0;width:100%;height:100%;z-index:-1;filter:brightness(50%)}.search-bar-container[_ngcontent-%COMP%]{position:relative;z-index:1;padding:10px}.search-bar[_ngcontent-%COMP%]{width:100%;padding:10px;font-size:16px;border:1px solid #ccc;border-radius:4px}.content-wrapper[_ngcontent-%COMP%]{position:relative;z-index:1;flex:1;overflow-y:auto;padding:0 10px}.song-list[_ngcontent-%COMP%]{margin-bottom:10px}.song-item[_ngcontent-%COMP%]{background:#ffffff0d;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);border:1px solid rgba(255,255,255,.2);padding:12px;margin:8px 0;border-radius:12px;cursor:pointer;transition:transform .2s ease,background .2s ease}.song-item[_ngcontent-%COMP%]:hover{transform:scale(1.02);background:#ffffff1a}.song-label[_ngcontent-%COMP%]{color:#fff;font-size:18px}.icon-musical-note[_ngcontent-%COMP%]:before{content:"\\1f3b5";color:#fff;margin-right:8px}.no-results[_ngcontent-%COMP%]{color:#fff;text-align:center;margin-top:30px;font-size:18px;display:flex;flex-direction:column;align-items:center;justify-content:center}.emoji[_ngcontent-%COMP%]{font-size:50px;margin-bottom:10px}.message[_ngcontent-%COMP%]{font-size:18px;color:#ccc}ion-loading[_ngcontent-%COMP%]{--spinner-color: white;--background: rgba(0, 0, 0, .7);--width: 200px;--height: 200px;text-align:center}'],data:{animation:[N("fadeIn",[b(":enter",[p({opacity:0}),v("400ms ease-in",p({opacity:1}))]),b(":leave",[v("300ms ease-out",p({opacity:0}))])])]}});let e=o;return e})();export{re as HomePage};
