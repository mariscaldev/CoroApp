import"./chunk-SSW7SZ5O.js";import{a as X,b as Z}from"./chunk-X4O2IR5J.js";import{c as V,d as v,f as m,g as b}from"./chunk-637CQDAJ.js";import{$a as G,A as L,Aa as j,B as _,C as h,E as p,F as M,G as I,Ga as W,H as P,I as w,J as T,L as O,M as S,P as k,Pa as A,Q as E,R as N,S as z,Xa as q,Z as F,fb as R,g as x,h as y,n as a,p as g,q as C,r as u,t as l,v as r,w as s,x as d,ya as B,za as D}from"./chunk-HCWSO466.js";import"./chunk-AQJKJO6F.js";import"./chunk-VORI6RXH.js";import"./chunk-T2ZGFQGW.js";import"./chunk-IP3IRUG3.js";import"./chunk-VYB3L4JF.js";import"./chunk-HC6MZPB3.js";import"./chunk-5LMKNUS2.js";import"./chunk-RMJ7PCZJ.js";import"./chunk-5S2DIWXE.js";import"./chunk-LEIMCQKJ.js";import"./chunk-NHXHI6VP.js";import"./chunk-EKM5P5PM.js";import"./chunk-GNOVVPTF.js";import"./chunk-5OMUW5VI.js";import"./chunk-OBXDPQ3V.js";import"./chunk-4KO2SR2V.js";import"./chunk-MCRJI3T3.js";import"./chunk-BAKMWPBW.js";import"./chunk-45D6LERB.js";import"./chunk-JUNFP4SE.js";import"./chunk-5J5TQ4C2.js";import"./chunk-RMCYG6SW.js";import"./chunk-LYYJ2XOB.js";import"./chunk-3IVKBF6N.js";import"./chunk-JWIEPCRG.js";import"./chunk-C5RQ2IC2.js";import"./chunk-SV7S5NYR.js";import"./chunk-RW4GY4BD.js";function J(e,o){e&1&&d(0,"ion-loading",8)}function K(e,o){e&1&&(r(0,"div",9)(1,"div",10),p(2,"\u{1F614}"),s(),r(3,"div",11),p(4,"No se encontraron listas"),s()())}function Q(e,o){if(e&1){let c=L();r(0,"div",13)(1,"div",14),_("click",function(){let t=x(c).$implicit,i=h(2);return y(i.verLista(t.id))}),r(2,"span",15),d(3,"b",16),p(4),s(),d(5,"br"),r(6,"small",17),p(7),O(8,"date"),s()()()}if(e&2){let c=o.$implicit;l("@fadeIn",void 0),a(4),I(" ",c.nombre," "),a(3),M(S(8,3,c.fecha,"dd/MM/yyyy"))}}function U(e,o){if(e&1&&(r(0,"div"),u(1,Q,9,6,"div",12),s()),e&2){let c=h();a(),l("ngForOf",c.filteredListas)}}var pe=(()=>{let o=class o{constructor(n,t){this.apiService=n,this.router=t,this.listas=[],this.filteredListas=[],this.searchTerm="",this.loading=!0}ngOnInit(){this.apiService.getListas().subscribe({next:n=>{this.listas=n.sort((t,i)=>t.nombre.localeCompare(i.nombre)),this.filteredListas=this.listas,this.loading=!1},error:n=>{console.error("Error cargando listas:",n),this.loading=!1}})}filterListas(){this.filteredListas=this.searchTerm?this.listas.filter(n=>n.nombre.toLowerCase().includes(this.searchTerm.toLowerCase())):this.listas}verLista(n){let t=document.querySelector("ion-content");t&&t.scrollToTop(300),setTimeout(()=>{this.router.navigate(["/lista",n])},200)}};o.\u0275fac=function(t){return new(t||o)(g(Z),g(F))},o.\u0275cmp=C({type:o,selectors:[["app-listas"]],decls:8,vars:6,consts:[[3,"title","showBack"],[1,"background-content"],[1,"overlay"],[1,"content-wrapper"],["placeholder","Buscar lista","showClearButton","always",3,"ngModelChange","ionInput","ngModel"],["message","Cargando listas...","spinner","circles",4,"ngIf"],["class","no-results",4,"ngIf"],[4,"ngIf"],["message","Cargando listas...","spinner","circles"],[1,"no-results"],[1,"emoji"],[1,"message"],["class","song-list",4,"ngFor","ngForOf"],[1,"song-list"],[1,"song-item",3,"click"],[1,"song-label"],[1,"fas","fa-list","icon-musical-note"],[1,"song-date"]],template:function(t,i){t&1&&(d(0,"app-navbar",0),r(1,"ion-content",1),d(2,"div",2),r(3,"div",3)(4,"ion-searchbar",4),T("ngModelChange",function(f){return w(i.searchTerm,f)||(i.searchTerm=f),f}),_("ionInput",function(){return i.filterListas()}),s(),u(5,J,1,0,"ion-loading",5)(6,K,5,0,"div",6)(7,U,2,1,"div",7),s()()),t&2&&(l("title","Listas")("showBack",!1),a(4),P("ngModel",i.searchTerm),a(),l("ngIf",i.loading),a(),l("ngIf",!i.loading&&i.filteredListas.length===0),a(),l("ngIf",!i.loading&&i.filteredListas.length>0))},dependencies:[R,A,q,G,W,z,k,E,N,j,B,D,X],styles:['ion-content.background-content[_ngcontent-%COMP%]{--background: none;position:relative;display:flex;flex-direction:column}.overlay[_ngcontent-%COMP%]{background:url("./media/fondo_coro-LGX3ZSC7.png") no-repeat top center/cover;position:fixed;top:0;left:0;width:100%;height:100%;z-index:-1;filter:brightness(50%)}.content-wrapper[_ngcontent-%COMP%]{position:relative;z-index:1;flex:1;overflow-y:auto;padding:0 10px}.no-results[_ngcontent-%COMP%]{color:#fff;text-align:center;margin-top:30px;font-size:18px;display:flex;flex-direction:column;align-items:center;justify-content:center}.emoji[_ngcontent-%COMP%]{font-size:50px;margin-bottom:10px}.message[_ngcontent-%COMP%]{font-size:18px;color:#ccc}.song-list[_ngcontent-%COMP%]{margin-bottom:10px}.song-item[_ngcontent-%COMP%]{background:#ffffff0d;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);border:1px solid rgba(255,255,255,.2);padding:12px;margin:8px 0;border-radius:12px;cursor:pointer;transition:transform .2s ease,background .2s ease}.song-item[_ngcontent-%COMP%]:hover{transform:scale(1.02);background:#ffffff1a}.song-label[_ngcontent-%COMP%]{color:#fff;font-size:18px}.song-date[_ngcontent-%COMP%]{color:#ccc;font-size:14px}'],data:{animation:[V("fadeIn",[b(":enter",[m({opacity:0}),v("400ms ease-in",m({opacity:1}))]),b(":leave",[v("300ms ease-out",m({opacity:0}))])])]}});let e=o;return e})();export{pe as ListasPage};
